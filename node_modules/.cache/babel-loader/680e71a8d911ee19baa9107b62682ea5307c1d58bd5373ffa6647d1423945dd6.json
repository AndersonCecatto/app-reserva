{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport LoadComponent from '../LoadComponent.vue';\nimport GenericMethods from '@/mixins/GenericMethods';\nimport RequestMethods from '@/mixins/RequestMethods';\nexport default {\n  components: {\n    LoadComponent\n  },\n  name: 'CadastroEmpresaComponent',\n  mixins: [GenericMethods, RequestMethods],\n  data: () => ({\n    localRazaoSocial: '',\n    localCpfCnpj: '',\n    localTelefone: '',\n    localEmail: '',\n    //localEnderecoId: '',\n    //localConfiguracoesmpresaId: '',\n    localDataCadastro: '',\n    localImagem: null,\n    imagemName: '',\n    imageUrl: ''\n  }),\n  methods: {\n    SalvarEmpresa() {\n      this.loader = !this.loader;\n      debugger;\n      this.RequestPut('Empresa', {\n        Id: this.dadosUsuario.EmpresaId,\n        Nome: this.localRazaoSocial,\n        CpfCnpj: this.localCpfCnpj,\n        Telefone: this.localTelefone,\n        Email: this.localEmail,\n        //EnderecoId: this.localEnderecoId,\n        EnderecoId: this.retornoEmpresa.EnderecoId,\n        //ConfiguracoesEmpresaId: this.localConfiguracoesmpresaId,\n        ConfiguracoesEmpresaId: this.retornoEmpresa.ConfiguracoesEmpresaId,\n        //EmpresaAdicionalId: this.empresaAdicionalId,\n        EmpresaAdicionalId: this.retornoEmpresa.EmpresaAdicionalId,\n        DataCadastro: this.parseDate(this.localDataCadastro),\n        Imagem: window.btoa(this.imageUrl),\n        ImagemName: this.imagemName\n      }, retorno => {\n        this.$emit('response', {\n          success: true,\n          response: retorno\n        });\n      }, error => this.$emit('response', {\n        success: false,\n        response: error\n      }), () => this.loader = !this.loader);\n    },\n    onFilePicked(e) {\n      debugger;\n      if (e == null) {\n        this.imageUrl = null;\n        this.imagemName = null;\n        return;\n      }\n      this.imagemName = e.name;\n      if (this.imagemName.lastIndexOf('.') <= 0) {\n        return;\n      }\n      const fr = new FileReader();\n      fr.readAsDataURL(e);\n      fr.addEventListener('load', () => {\n        this.imageUrl = fr.result;\n      });\n    }\n  },\n  watch: {\n    // razaoSocial(val) {\n    //     this.localRazaoSocial = val\n    // },\n    // cnpj(val) {\n    //     this.localCpfCnpj = val\n    // },\n    // telefone(val) {\n    //     this.localTelefone = val\n    // },\n    // email(val) {\n    //     this.localEmail = val\n    // },\n    // enderecoId(val) {\n    //     this.localEnderecoId = val\n    // },\n    // configuracoesEmpresaId(val) {\n    //     this.localConfiguracoesmpresaId = val\n    // },\n    // dataCadastro(val) {\n    //     this.localDataCadastro = this.FormatDate(new Date(val).toISOString().substring(0,10))\n    // },\n    // imagemName(val) {\n    //     debugger\n    //     this.localImagem = new File([val], val, {\n    //           type: \"text/plain\",\n    //     })\n\n    //     this.imagemName = val\n    // }\n\n    retornoEmpresa(val) {\n      debugger;\n      this.localDataCadastro = this.FormatDate(new Date(val.DataCadastroEmpresa).toISOString().substring(0, 10));\n      this.localRazaoSocial = val.RazaoSocial;\n      this.localCpfCnpj = val.Cnpj;\n      this.localTelefone = val.Telefone;\n      this.localEmail = val.Email;\n      //this.localDataCadastro = this.FormatDate(new Date(val.DataCadastroEmpresa).toISOString().substring(0,10))\n    }\n  },\n\n  created() {\n    debugger;\n    if (this.NameImagem == null) return;\n    this.localImagem = new File([this.NameImagem], this.NameImagem, {\n      type: \"text/plain\"\n    });\n    this.imagemName = this.NameImagem;\n  },\n  props: {\n    razaoSocial: String,\n    cnpj: String,\n    telefone: String,\n    email: String,\n    //enderecoId: Number,\n    //configuracoesEmpresaId: Number,\n    dataCadastro: String,\n    //empresaAdicionalId: Number,\n    NameImagem: String,\n    dadosUsuario: Object,\n    retornoEmpresa: Object\n  }\n};","map":{"version":3,"mappings":";AA4DA;AACA;AACA;AAEA;EACAA;IAAAC;EAAA;EAEAC;EAEAC;EAEAC;IACAC;IACAC;IACAC;IACAC;IACA;IACA;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACA;MAEA;MAEA,2BACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACAC;QACAC;QACAC;MACA,GACAC;QAAA;UAAAC;UAAAC;QAAA;MAAA,GACAC;QAAAF;QAAAC;MAAA,IACA;IACA;IAEAE;MAEA;MAEA;QACA;QACA;QACA;MACA;MAEA;MACA;QACA;MACA;MACA;MACAC;MACAA;QACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;;EAEAC;IACA;IACA,6BACA;IAEA;MACAC;IACA;IAEA;EACA;EAEAC;IACAC;IACAC;IACAC;IACAC;IACA;IACA;IACAC;IACA;IACAC;IACAC;IACAV;EACA;AACA","names":["components","LoadComponent","name","mixins","data","localRazaoSocial","localCpfCnpj","localTelefone","localEmail","localDataCadastro","localImagem","imagemName","imageUrl","methods","SalvarEmpresa","Id","Nome","CpfCnpj","Telefone","Email","EnderecoId","ConfiguracoesEmpresaId","EmpresaAdicionalId","DataCadastro","Imagem","ImagemName","retorno","success","response","error","onFilePicked","fr","watch","retornoEmpresa","created","type","props","razaoSocial","cnpj","telefone","email","dataCadastro","NameImagem","dadosUsuario"],"sourceRoot":"src/components/Empresa","sources":["CadastroEmpresaComponent.vue"],"sourcesContent":["<template>\r\n    <v-form class=\"px-4 mt-3\">\r\n        <v-text-field\r\n            v-model=\"localRazaoSocial\"\r\n            label=\"RazÃ£o Social\"\r\n            prepend-icon=\"mdi-text-box-edit\"\r\n            color=\"green\"\r\n        />\r\n        <v-text-field\r\n            v-model=\"localCpfCnpj\"\r\n            label=\"Cnpj\"\r\n            prepend-icon=\"mdi-text-box-edit\"\r\n            color=\"green\"\r\n        />\r\n        <v-text-field\r\n            v-model=\"localTelefone\"\r\n            label=\"Telefone\"\r\n            type=\"phone\"\r\n            prepend-icon=\"mdi-text-box-edit\"\r\n            color=\"green\"\r\n        />\r\n        <v-text-field\r\n            v-model=\"localEmail\"\r\n            label=\"Email\"\r\n            prepend-icon=\"mdi-text-box-edit\"\r\n            color=\"green\"\r\n        />\r\n        <!-- Campo Feito Para Salvar uma foto no banco -->\r\n        <v-file-input\r\n            v-model=\"localImagem\"\r\n            accept=\"image/*\"\r\n            label=\"Imagem\"\r\n            prepend-icon=\"mdi-camera\"\r\n            :value=\"localImagem\"\r\n            @change=\"onFilePicked\"\r\n        />\r\n        <v-text-field\r\n            v-model=\"localDataCadastro\"\r\n            label=\"Data de Cadastro\"\r\n            prepend-icon=\"mdi-text-box-edit\"\r\n            color=\"green\"\r\n            disabled\r\n        />\r\n        <v-row class=\"px-3 py-7\">\r\n            <v-btn\r\n                outlined\r\n                large\r\n                block\r\n                color=\"green\"\r\n                @click=\"SalvarEmpresa()\"\r\n                >\r\n                <v-icon left> mdi-check-bold </v-icon>\r\n                Confirmar\r\n            </v-btn>\r\n        </v-row>\r\n        <load-component :Ativo=\"loader\"/>\r\n    </v-form>\r\n</template>\r\n<script>\r\n\r\nimport LoadComponent from '../LoadComponent.vue'\r\nimport GenericMethods from '@/mixins/GenericMethods';\r\nimport RequestMethods from '@/mixins/RequestMethods';\r\n\r\nexport default {\r\n    components: { LoadComponent },\r\n\r\n    name: 'CadastroEmpresaComponent',\r\n\r\n    mixins: [GenericMethods, RequestMethods],\r\n\r\n    data: () => ({\r\n        localRazaoSocial: '',\r\n        localCpfCnpj: '',\r\n        localTelefone: '',\r\n        localEmail: '',\r\n        //localEnderecoId: '',\r\n        //localConfiguracoesmpresaId: '',\r\n        localDataCadastro: '',\r\n        localImagem: null,\r\n        imagemName: '',\r\n        imageUrl: '',\r\n    }),\r\n    methods: {\r\n        SalvarEmpresa() {\r\n            this.loader = !this.loader;\r\n\r\n            debugger\r\n\r\n            this.RequestPut('Empresa',\r\n            {\r\n                Id: this.dadosUsuario.EmpresaId,\r\n                Nome: this.localRazaoSocial,\r\n                CpfCnpj: this.localCpfCnpj,\r\n                Telefone: this.localTelefone,\r\n                Email: this.localEmail,\r\n                //EnderecoId: this.localEnderecoId,\r\n                EnderecoId: this.retornoEmpresa.EnderecoId,\r\n                //ConfiguracoesEmpresaId: this.localConfiguracoesmpresaId,\r\n                ConfiguracoesEmpresaId: this.retornoEmpresa.ConfiguracoesEmpresaId,\r\n                //EmpresaAdicionalId: this.empresaAdicionalId,\r\n                EmpresaAdicionalId: this.retornoEmpresa.EmpresaAdicionalId,\r\n                DataCadastro: this.parseDate(this.localDataCadastro),\r\n                Imagem: window.btoa(this.imageUrl),\r\n                ImagemName: this.imagemName\r\n            },\r\n            (retorno) => {this.$emit('response', { success: true, response: retorno })}, \r\n            (error) => this.$emit('response', { success: false, response: error }),\r\n            () => (this.loader = !this.loader))\r\n        },\r\n\r\n        onFilePicked(e) {\r\n            \r\n            debugger\r\n\r\n            if (e == null) {\r\n                this.imageUrl = null\r\n                this.imagemName = null\r\n                return\r\n            }\r\n\r\n            this.imagemName = e.name\r\n            if(this.imagemName.lastIndexOf('.') <= 0) {\r\n                return\r\n            }\r\n            const fr = new FileReader ()\r\n            fr.readAsDataURL(e)\r\n            fr.addEventListener('load', () => {\r\n                this.imageUrl = fr.result\r\n            })\r\n        }\r\n    },\r\n    watch: {\r\n        // razaoSocial(val) {\r\n        //     this.localRazaoSocial = val\r\n        // },\r\n        // cnpj(val) {\r\n        //     this.localCpfCnpj = val\r\n        // },\r\n        // telefone(val) {\r\n        //     this.localTelefone = val\r\n        // },\r\n        // email(val) {\r\n        //     this.localEmail = val\r\n        // },\r\n        // enderecoId(val) {\r\n        //     this.localEnderecoId = val\r\n        // },\r\n        // configuracoesEmpresaId(val) {\r\n        //     this.localConfiguracoesmpresaId = val\r\n        // },\r\n        // dataCadastro(val) {\r\n        //     this.localDataCadastro = this.FormatDate(new Date(val).toISOString().substring(0,10))\r\n        // },\r\n        // imagemName(val) {\r\n        //     debugger\r\n        //     this.localImagem = new File([val], val, {\r\n        //           type: \"text/plain\",\r\n        //     })\r\n\r\n        //     this.imagemName = val\r\n        // }\r\n\r\n        retornoEmpresa(val) {\r\n            debugger\r\n            this.localDataCadastro = this.FormatDate(new Date(val.DataCadastroEmpresa).toISOString().substring(0,10))\r\n            this.localRazaoSocial = val.RazaoSocial\r\n            this.localCpfCnpj = val.Cnpj\r\n            this.localTelefone = val.Telefone\r\n            this.localEmail = val.Email\r\n            //this.localDataCadastro = this.FormatDate(new Date(val.DataCadastroEmpresa).toISOString().substring(0,10))\r\n        }\r\n    },\r\n\r\n    created() {\r\n        debugger\r\n        if (this.NameImagem == null)\r\n            return\r\n\r\n        this.localImagem = new File([this.NameImagem], this.NameImagem, {\r\n            type: \"text/plain\",\r\n        })\r\n\r\n        this.imagemName = this.NameImagem\r\n    },\r\n\r\n    props: {\r\n        razaoSocial: String,\r\n        cnpj: String,\r\n        telefone: String,\r\n        email: String,\r\n        //enderecoId: Number,\r\n        //configuracoesEmpresaId: Number,\r\n        dataCadastro: String,\r\n        //empresaAdicionalId: Number,\r\n        NameImagem: String,\r\n        dadosUsuario: Object,\r\n        retornoEmpresa: Object\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}