{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport api from '@/services/api';\nimport LoadComponent from './LoadComponent.vue';\nimport AlertComponent from './AlertComponent.vue';\nimport DialogPersistentComponent from './Field/DialogPersistentComponent.vue';\nimport CadastroUsuarioComponent from './Usuario/CadastroUsuarioComponent.vue';\nimport GenericMethods from '@/mixins/GenericMethods';\nimport RequestMethods from '@/mixins/RequestMethods';\nexport default {\n  components: {\n    LoadComponent,\n    AlertComponent,\n    DialogPersistentComponent,\n    CadastroUsuarioComponent\n  },\n  name: 'LoginComponent',\n  mixins: [GenericMethods, RequestMethods],\n  data: () => ({\n    alertaUsuario: false,\n    textoAlerta: \"\",\n    tipoAlerta: \"\",\n    loader: false,\n    senha: \"\",\n    usuario: \"\",\n    show1: false,\n    rules: {\n      required: value => !!value || 'Obrigatório.'\n    }\n  }),\n  methods: {\n    ValidarCampos() {\n      if (this.usuario == \"\") return false;\n      if (this.senha == \"\") return false;\n    },\n    EnableAlert(texto, tipoAlerta) {\n      this.alertaUsuario = true;\n      this.tipoAlerta = tipoAlerta;\n      this.textoAlerta = texto;\n      setTimeout(() => {\n        this.alertaUsuario = false;\n      }, 1800);\n    },\n    requestLogar() {\n      this.$refs.form.validate();\n      if (this.ValidarCampos() == false) return;\n      this.loader = !this.loader;\n      this.RequestPost('Token', {\n        'login': this.usuario,\n        'senha': this.senha\n      }, retorno => this.RetornoLogin(retorno), error => this.RetornoErro(error), () => this.loader = !this.loader);\n    },\n    RetornoLogin(response) {\n      debugger;\n      if (response.data.token == null) {\n        this.EnableAlert(\"Usuário não encontrado.\", \"warning\");\n        return;\n      }\n      localStorage.setItem('token', response.data.token);\n      this.$router.push({\n        path: '/inicial',\n        name: 'inicial',\n        params: {\n          dadosUsuario: response.data\n        }\n      });\n    },\n    retornoDialog(retorno) {\n      if (retorno.acao == \"Cadastrar\" && retorno.success) this.requestUsuario();\n      this.dialog = !this.dialog;\n    },\n    requestUsuario() {\n      debugger;\n      this.RequestPost('Usuario', {}, retorno => this.RetornoUsuario(retorno), error => this.RetornoErro(error), () => this.loader = !this.loader);\n    },\n    RetornoUsuario(retorno) {\n      debugger;\n    }\n  },\n  props: {\n    Ativo: Boolean\n  }\n};","map":{"version":3,"mappings":";AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IAAAC;IAAAC;IAAAC;IAAAC;EAAA;EAEAC;EACAC;EAEAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MAEAC;QACA;MACA;IACA;IACAC;MAEA;MACA;MAEA;MAGA,0BACA;QACA;QACA;MACA,GACAC,uCACAC,kCACA;IACA;IAEAC;MAEA;MACA;QACA;QACA;MACA;MAEAC;MAEA;QAAAC;QAAArB;QAAAsB;UAAAC;QAAA;MAAA;IACA;IAEAC;MAEA,oDACA;MAEA;IACA;IAEAC;MACA;MAEA,4BACA,CAEA,GACAR,yCACAC,kCACA;IACA;IAEAQ;MACA;IACA;EAEA;EACAC;IACAC;EACA;AACA","names":["components","LoadComponent","AlertComponent","DialogPersistentComponent","CadastroUsuarioComponent","name","mixins","data","alertaUsuario","textoAlerta","tipoAlerta","loader","senha","usuario","show1","rules","required","methods","ValidarCampos","EnableAlert","setTimeout","requestLogar","retorno","error","RetornoLogin","localStorage","path","params","dadosUsuario","retornoDialog","requestUsuario","RetornoUsuario","props","Ativo"],"sourceRoot":"src/components","sources":["LoginComponent.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <alert-component :texto-alerta=\"textoAlerta\" :tipo='tipoAlerta' v-if=\"alertaUsuario == true\"/>\r\n        <v-container class=\"text-center\">\r\n            <v-row class=\"text-center\">\r\n                <v-col cols=\"12\" \r\n                    sm=\"1\"\r\n                    xs=\"1\"\r\n                    md=\"3\"\r\n                    />\r\n                <v-col cols=\"12\"\r\n                    md=\"6\"\r\n                    xs=\"10\"\r\n                    sm=\"10\"\r\n                >\r\n                    <v-card\r\n                        elevation=\"5\"\r\n                        class=\"px-6 top\"\r\n                        xs=\"top-mobile\"\r\n                        sm=\"top-mobile\"\r\n                    >\r\n                        <v-card-title >Faça seu Login</v-card-title>\r\n                        <v-card-text>\r\n                            <v-container>\r\n                                <v-form\r\n                                    ref=\"form\" \r\n                                    lazy-validation\r\n                                >\r\n                                    <v-row  class=\"px-6\">\r\n                                        <v-text-field\r\n                                        v-model=\"usuario\"\r\n                                        label=\"Usuário\"\r\n                                        :rules=\"[rules.required]\"\r\n                                        color=\"green\"\r\n                                        required\r\n                                        />\r\n                                    </v-row>\r\n                                    <v-row  class=\"px-6 xs-6\">\r\n                                        <v-text-field\r\n                                            v-model=\"senha\"\r\n                                            :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                                            :rules=\"[rules.required]\"\r\n                                            :type=\"show1 ? 'text' : 'password'\"\r\n                                            label=\"Senha\"\r\n                                            color=\"green\"\r\n                                            counter\r\n                                            required\r\n                                            @click:append=\"show1 = !show1\"\r\n                                        ></v-text-field>\r\n                                    </v-row>\r\n                                </v-form>\r\n                                <v-row class=\"px-6 pt-6\">\r\n                                    <v-btn\r\n                                        outlined\r\n                                        large\r\n                                        block\r\n                                        color=\"green\"\r\n                                        @click=\"requestLogar()\"\r\n                                        >\r\n                                        Continuar\r\n                                    </v-btn>\r\n                                </v-row>\r\n                                <v-row class=\"px-6 pt-6\">\r\n                                    <v-label>\r\n                                        Não tenho uma conta\r\n                                    </v-label>\r\n                                    <a href=\"#\"\r\n                                       class=\"text-decoration-underline pl-2\"\r\n                                        @click=\"dialog = !dialog\"\r\n                                       >\r\n                                        Cadastrar-se\r\n                                    </a>\r\n                                </v-row>\r\n                            </v-container>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                </v-col>\r\n            </v-row>\r\n        </v-container>\r\n        <load-component :Ativo=\"loader\"/>\r\n        <dialog-persistent-component \r\n            titulo=\"Cadastro Usuário\"\r\n            :dialog=\"dialog\"\r\n            tamanho=\"800\"\r\n            @response=\"retornoDialog\"\r\n            acao=\"Cadastrar\"\r\n            >\r\n            <cadastro-usuario-component\r\n\r\n            />\r\n        </dialog-persistent-component>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport api from '@/services/api';\r\nimport LoadComponent from './LoadComponent.vue'\r\nimport AlertComponent from './AlertComponent.vue';\r\nimport DialogPersistentComponent from './Field/DialogPersistentComponent.vue';\r\nimport CadastroUsuarioComponent from './Usuario/CadastroUsuarioComponent.vue';\r\nimport GenericMethods from '@/mixins/GenericMethods';\r\nimport RequestMethods from '@/mixins/RequestMethods';\r\n\r\nexport default {\r\n    components: { LoadComponent, AlertComponent, DialogPersistentComponent, CadastroUsuarioComponent },\r\n\r\n    name: 'LoginComponent',\r\n    mixins: [GenericMethods, RequestMethods],\r\n\r\n    data: () =>({\r\n        alertaUsuario: false,\r\n        textoAlerta: \"\",\r\n        tipoAlerta: \"\",\r\n        loader: false,\r\n        senha: \"\",\r\n        usuario: \"\",\r\n        show1: false,\r\n        rules: {\r\n            required: value => !!value || 'Obrigatório.'\r\n        },\r\n    }),\r\n\r\n    methods: {\r\n        ValidarCampos() {\r\n            if (this.usuario == \"\") return false\r\n            if (this.senha == \"\") return false\r\n        },\r\n        EnableAlert(texto, tipoAlerta) {\r\n            this.alertaUsuario = true\r\n            this.tipoAlerta = tipoAlerta\r\n            this.textoAlerta = texto\r\n\r\n            setTimeout(() => {\r\n                this.alertaUsuario = false\r\n            }, 1800)\r\n        },\r\n        requestLogar() {\r\n            \r\n            this.$refs.form.validate()\r\n            if (this.ValidarCampos() == false) return\r\n\r\n            this.loader = !this.loader;\r\n\r\n\r\n            this.RequestPost('Token', \r\n            {\r\n                'login': this.usuario,\r\n                'senha': this.senha\r\n            }, \r\n            (retorno) => this.RetornoLogin(retorno), \r\n            (error) => this.RetornoErro(error),\r\n            () => (this.loader = !this.loader))\r\n        },\r\n\r\n        RetornoLogin(response) {\r\n\r\n            debugger\r\n            if (response.data.token == null) {\r\n                this.EnableAlert(\"Usuário não encontrado.\", \"warning\")\r\n                return\r\n            }\r\n\r\n            localStorage.setItem('token', response.data.token)\r\n\r\n            this.$router.push({ path: '/inicial', name: 'inicial', params: { dadosUsuario: response.data } })\r\n        },\r\n\r\n        retornoDialog(retorno) {\r\n\r\n            if (retorno.acao == \"Cadastrar\" && retorno.success) \r\n                this.requestUsuario()\r\n\r\n            this.dialog = !this.dialog\r\n        },\r\n\r\n        requestUsuario() {\r\n            debugger\r\n\r\n            this.RequestPost('Usuario',\r\n            {\r\n                \r\n            },\r\n                (retorno) => this.RetornoUsuario(retorno), \r\n                (error) => this.RetornoErro(error),\r\n                () => (this.loader = !this.loader))\r\n        },\r\n\r\n        RetornoUsuario(retorno) {\r\n            debugger\r\n        },\r\n       \r\n    },\r\n    props: {\r\n        Ativo: Boolean\r\n    }\r\n}\r\n</script>\r\n<style>\r\n   .top {\r\n    margin-top: 25% !important;\r\n   }\r\n\r\n@media only screen and (max-width: 600px) {\r\n        .top {\r\n            margin-top: 55% !important;\r\n        }\r\n    }\r\n\r\n    .login {\r\n        background-color: #81C784;\r\n    }\r\n    \r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}