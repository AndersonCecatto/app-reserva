{"ast":null,"code":"import AutoCompleteFieldComponent from './Field/AutoCompleteFieldComponent.vue';\nimport LoadComponent from './LoadComponent.vue';\nimport AlertComponent from './AlertComponent.vue';\nimport CadastroEmpresaComponent from './Empresa/CadastroEmpresaComponent.vue';\nimport GenericMethods from '@/mixins/GenericMethods';\nimport CadastroEnderecoComponent from './Empresa/CadastroEnderecoComponent.vue';\nimport CadastroConfiguracoesEmpresaComponent from './Empresa/CadastroConfiguracoesEmpresaComponent.vue';\nimport CadastroAdicionaisComponent from './Empresa/CadastroAdicionaisComponent.vue';\nimport CadastroPeriodoComponent from './Empresa/CadastroPeriodoComponent.vue';\nimport RequestMethods from '@/mixins/RequestMethods';\nexport default {\n  name: \"ConfiguracoesEmpresaComponent\",\n  components: {\n    AutoCompleteFieldComponent,\n    LoadComponent,\n    AlertComponent,\n    CadastroEmpresaComponent,\n    CadastroConfiguracoesEmpresaComponent,\n    CadastroEnderecoComponent,\n    CadastroAdicionaisComponent,\n    CadastroPeriodoComponent\n  },\n  mixins: [GenericMethods, RequestMethods],\n  data: () => ({\n    EmpresaId: null,\n    RazaoSocial: null,\n    Cnpj: null,\n    Telefone: null,\n    Email: null,\n    DataCadastroEmpresa: null,\n    Imagem: null,\n    ImagemName: null,\n    RetornoDadosEmpresa: null,\n    modal1: false,\n    modal2: false,\n    RetornoDadosEndereco: null,\n    RetornoDadosConfiguracoesEmpresa: null,\n    RetornoDadosEmpresaAdicional: null,\n    ConfiguracoesEmpresaId: null,\n    timeInicial: null,\n    timeFinal: null,\n    ReservaPorMesa: \"Não\",\n    ReservaPorPessoas: \"Não\",\n    ReservaPorPeriodo: null,\n    QuantidadeMesas: null,\n    QuantidadePessoas: null,\n    DiasAtendimento: null,\n    items: ['Sim', 'Não'],\n    EnderecoId: null,\n    Logradouro: null,\n    Bairro: null,\n    Numero: null,\n    Complemento: null,\n    Cep: null,\n    Estado: null,\n    Cidade: null,\n    CidadeId: null,\n    empresaAdicionalId: null,\n    bloquearReserva: null,\n    aceitaReservaAutomaticamente: null,\n    permiteReagendarReserva: null,\n    exibirMensagemRapida: null,\n    tempoPermitidoCancelamento: null,\n    mensagemRapida: null,\n    requiredRules: [v => v != null || 'Campo Obrigatório.'],\n    requiredPeopleRules: [v => v != null && v != 0 || 'Campo Obrigatório.']\n  }),\n  methods: {\n    Alerta(retorno) {\n      if (retorno.success) {\n        this.EnableAlert(\"Concluido com sucesso.\", \"success\");\n        window.scrollTo(0, 0);\n      } else {\n        this.EnableAlert(retorno.response.message, \"error\");\n        window.scrollTo(0, 0);\n      }\n    },\n    reservaPorPeriodo(val) {\n      this.ReservaPorPeriodo = val;\n    },\n    requestEmpresa() {\n      this.loader = !this.loader;\n      this.RequestGet('Empresa/' + this.dadosUsuario.EmpresaId, retorno => this.RetornoEmpresa(retorno), error => this.RetornoErro(error), () => this.loader = !this.loader);\n    },\n    RetornoEmpresa(response) {\n      this.RetornoDadosEmpresa = {\n        RazaoSocial: response.data.nome,\n        Cnpj: response.data.cpfCnpj,\n        Telefone: response.data.telefone,\n        Email: response.data.email,\n        DataCadastroEmpresa: response.data.dataCadastro,\n        //Imagem: response.data.imagem,\n        ImagemName: response.data.imagemName,\n        ConfiguracoesEmpresaId: response.data.configuracoesEmpresa.id,\n        EmpresaAdicionalId: response.data.empresaAdicional.id,\n        EnderecoId: response.data.endereco.id\n      };\n      this.RetornoDadosEndereco = {\n        Logradouro: response.data.endereco.logradouro,\n        EnderecoId: response.data.endereco.id,\n        Bairro: response.data.endereco.bairro,\n        Cep: response.data.endereco.cep,\n        Complemento: response.data.endereco.complemento,\n        Numero: response.data.endereco.numero,\n        Cidade: response.data.endereco.cidade,\n        Estado: response.data.endereco.cidade.estado,\n        CidadeId: response.data.endereco.cidade.id\n      };\n      this.RetornoDadosConfiguracoesEmpresa = {\n        ConfiguracoesEmpresaId: response.data.configuracoesEmpresa.id,\n        TimeInicial: this.parseTimeDate(response.data.configuracoesEmpresa.horarioInicio),\n        TimeFinal: this.parseTimeDate(response.data.configuracoesEmpresa.horarioFim),\n        ReservaPorPeriodo: response.data.configuracoesEmpresa.ehPorPeriodo ? \"Sim\" : \"Não\",\n        ReservaPorPessoas: response.data.configuracoesEmpresa.ehPorPessoas ? \"Sim\" : \"Não\",\n        QuantidadePessoas: response.data.configuracoesEmpresa.quantidadePessoas,\n        ReservaPorMesa: response.data.configuracoesEmpresa.ehPorMesas ? \"Sim\" : \"Não\",\n        QuantidadeMesas: response.data.configuracoesEmpresa.quantidadeMesas,\n        DiasAtendimento: response.data.configuracoesEmpresa.diasAtendimento\n      };\n      this.RetornoDadosEmpresaAdicional = {\n        EmpresaAdicionalId: response.data.empresaAdicional.id,\n        BloquearReserva: response.data.empresaAdicional.bloqueiaReserva ? \"Sim\" : \"Não\",\n        AceitaReservaAutomaticamente: response.data.empresaAdicional.aceitaReservaAutomaticamente ? \"Sim\" : \"Não\",\n        PermiteReagendarReserva: response.data.empresaAdicional.permiteReagendarReserva ? \"Sim\" : \"Não\",\n        ExibirMensagemRapida: response.data.empresaAdicional.exibirMensagemRapida ? \"Sim\" : \"Não\",\n        TempoPermitidoCancelamento: response.data.empresaAdicional.tempoPermitidoCancelamento,\n        MensagemRapida: response.data.empresaAdicional.mensagemRapida ?? ''\n      };\n    }\n  },\n  created() {\n    this.requestEmpresa();\n  },\n  watch: {\n    refresh(val) {\n      this.requestEmpresa();\n    }\n  },\n  props: {\n    refresh: Boolean,\n    dadosUsuario: Object\n  }\n};","map":{"version":3,"mappings":"AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EAEAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IAEAC;IACAC;IACAC;IACAC;IACAC;IAEAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IAEAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IAEAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IAEAC,gBACAC,uCACA;IACAC,sBACAD;EAEA;EACAE;IACAC;MACA;QACA;QACAC;MACA,OACA;QACA;QACAA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MAEA,0DACAC,yCACAC,kCACA;IACA;IAEAC;MAEA;QACAjD;QACAC;QACAC;QACAC;QACAC;QACA;QACAE;QACAO;QACAqC;QACA3B;MACA;MAEA;QACAC;QACAD;QACAE;QACAG;QACAD;QACAD;QACAI;QACAD;QACAE;MACA;MAEA;QACAlB;QACAsC;QACAC;QACAlC;QACAD;QACAG;QACAJ;QACAG;QACAE;MACA;MAEA;QACA6B;QACAG;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EAEAC;IACA;EACA;EAEAC;IAEAC;MACA;IACA;EAEA;EAEAC;IACAD;IACAE;EACA;AACA","names":["name","components","AutoCompleteFieldComponent","LoadComponent","AlertComponent","CadastroEmpresaComponent","CadastroConfiguracoesEmpresaComponent","CadastroEnderecoComponent","CadastroAdicionaisComponent","CadastroPeriodoComponent","mixins","data","EmpresaId","RazaoSocial","Cnpj","Telefone","Email","DataCadastroEmpresa","Imagem","ImagemName","RetornoDadosEmpresa","modal1","modal2","RetornoDadosEndereco","RetornoDadosConfiguracoesEmpresa","RetornoDadosEmpresaAdicional","ConfiguracoesEmpresaId","timeInicial","timeFinal","ReservaPorMesa","ReservaPorPessoas","ReservaPorPeriodo","QuantidadeMesas","QuantidadePessoas","DiasAtendimento","items","EnderecoId","Logradouro","Bairro","Numero","Complemento","Cep","Estado","Cidade","CidadeId","empresaAdicionalId","bloquearReserva","aceitaReservaAutomaticamente","permiteReagendarReserva","exibirMensagemRapida","tempoPermitidoCancelamento","mensagemRapida","requiredRules","v","requiredPeopleRules","methods","Alerta","window","reservaPorPeriodo","requestEmpresa","retorno","error","RetornoEmpresa","EmpresaAdicionalId","TimeInicial","TimeFinal","BloquearReserva","AceitaReservaAutomaticamente","PermiteReagendarReserva","ExibirMensagemRapida","TempoPermitidoCancelamento","MensagemRapida","created","watch","refresh","props","dadosUsuario"],"sourceRoot":"src/components","sources":["ConfiguracoesEmpresaComponent.vue"],"sourcesContent":["<template>\r\n    <v-card class=\"pb-3\">\r\n        <alert-component :texto-alerta=\"textoAlerta\" :tipo='tipoAlerta' v-if=\"alerta == true\"/>\r\n        <v-card-title>Empresa</v-card-title>\r\n        <v-card-text>\r\n            <v-tabs color=\"green\">\r\n                <v-tabs-slider></v-tabs-slider>\r\n                <v-tab>Informações Empresa</v-tab>\r\n                <v-tab-item>\r\n                    <cadastro-empresa-component\r\n                        :retorno-empresa=\"RetornoDadosEmpresa\"\r\n                        :dados-usuario=\"dadosUsuario\"\r\n                        @response=\"Alerta\"\r\n                    />\r\n                </v-tab-item>\r\n                <v-tab>Endereco</v-tab>\r\n                <v-tab-item>\r\n                    <cadastro-endereco-component\r\n                        \r\n                        :retorno-endereco=\"RetornoDadosEndereco\"\r\n                        @response=\"Alerta\"\r\n                    />\r\n                </v-tab-item>\r\n                <v-tab>Configuracoes Empresa</v-tab>\r\n                <v-tab-item>\r\n                    <cadastro-configuracoes-empresa-component\r\n                        \r\n                        :retorno-configuracoes=\"RetornoDadosConfiguracoesEmpresa\"\r\n                        @reservaPorPeriodo=\"reservaPorPeriodo\"\r\n                        @response=\"Alerta\"\r\n                    />\r\n                </v-tab-item>\r\n                <v-tab>Adicionais</v-tab>\r\n                <v-tab-item>\r\n                    <cadastro-adicionais-component\r\n                        \r\n                        :retorno-empresa-adicional=\"RetornoDadosEmpresaAdicional\"\r\n                        @response=\"Alerta\"\r\n                    />\r\n                </v-tab-item>\r\n                <v-tab v-if=\"RetornoDadosConfiguracoesEmpresa?.ReservaPorPeriodo == 'Sim'\" >Periodo</v-tab>\r\n                <!-- <v-tab-item v-if=\"ReservaPorPeriodo != 'Não'\"> -->\r\n                <v-tab-item>\r\n                    <cadastro-periodo-component \r\n                        v-if=\"RetornoDadosConfiguracoesEmpresa?.ReservaPorPeriodo == 'Sim'\" \r\n                        :dados-usuario=\"dadosUsuario\"\r\n                        @response=\"Alerta\"/>\r\n                </v-tab-item>\r\n            </v-tabs>\r\n        </v-card-text>\r\n        <load-component :Ativo=\"loader\"/>\r\n    </v-card>\r\n</template>\r\n<script>\r\n\r\nimport AutoCompleteFieldComponent from './Field/AutoCompleteFieldComponent.vue';\r\nimport LoadComponent from './LoadComponent.vue';\r\nimport AlertComponent from './AlertComponent.vue';\r\nimport CadastroEmpresaComponent from './Empresa/CadastroEmpresaComponent.vue';\r\nimport GenericMethods from '@/mixins/GenericMethods';\r\nimport CadastroEnderecoComponent from './Empresa/CadastroEnderecoComponent.vue';\r\nimport CadastroConfiguracoesEmpresaComponent from './Empresa/CadastroConfiguracoesEmpresaComponent.vue';\r\nimport CadastroAdicionaisComponent from './Empresa/CadastroAdicionaisComponent.vue';\r\nimport CadastroPeriodoComponent from './Empresa/CadastroPeriodoComponent.vue';\r\nimport RequestMethods from '@/mixins/RequestMethods';\r\n\r\nexport default {\r\n    name: \"ConfiguracoesEmpresaComponent\",\r\n\r\n    components: { \r\n        AutoCompleteFieldComponent, \r\n        LoadComponent, \r\n        AlertComponent, \r\n        CadastroEmpresaComponent, \r\n        CadastroConfiguracoesEmpresaComponent, \r\n        CadastroEnderecoComponent,\r\n        CadastroAdicionaisComponent,\r\n        CadastroPeriodoComponent \r\n    },\r\n    mixins: [GenericMethods, RequestMethods],\r\n    data: () => ({\r\n        EmpresaId: null,\r\n        RazaoSocial: null,\r\n        Cnpj: null,\r\n        Telefone: null,\r\n        Email: null,\r\n        DataCadastroEmpresa: null,\r\n        Imagem: null,\r\n        ImagemName: null,\r\n        RetornoDadosEmpresa: null,\r\n\r\n        modal1: false,\r\n        modal2: false,\r\n        RetornoDadosEndereco: null,\r\n        RetornoDadosConfiguracoesEmpresa: null,\r\n        RetornoDadosEmpresaAdicional: null,\r\n\r\n        ConfiguracoesEmpresaId: null,\r\n        timeInicial: null,\r\n        timeFinal: null,\r\n        ReservaPorMesa: \"Não\",\r\n        ReservaPorPessoas: \"Não\",\r\n        ReservaPorPeriodo: null,\r\n        QuantidadeMesas: null,\r\n        QuantidadePessoas: null,\r\n        DiasAtendimento: null,\r\n\r\n        items: ['Sim', 'Não'],\r\n        EnderecoId: null,\r\n        Logradouro: null,\r\n        Bairro: null,\r\n        Numero: null,\r\n        Complemento: null,\r\n        Cep: null,\r\n        Estado: null,\r\n        Cidade: null,\r\n        CidadeId: null,\r\n        \r\n        empresaAdicionalId: null,\r\n        bloquearReserva: null,\r\n        aceitaReservaAutomaticamente: null,\r\n        permiteReagendarReserva: null,\r\n        exibirMensagemRapida: null,\r\n        tempoPermitidoCancelamento: null,\r\n        mensagemRapida: null,\r\n\r\n        requiredRules: [\r\n            v => v != null || 'Campo Obrigatório.',\r\n        ],\r\n        requiredPeopleRules: [\r\n            v => v != null && v != 0 || 'Campo Obrigatório.'\r\n        ],\r\n    }),\r\n    methods: {\r\n        Alerta(retorno) {\r\n            if (retorno.success) {\r\n                this.EnableAlert(\"Concluido com sucesso.\", \"success\")\r\n                window.scrollTo(0,0);\r\n            } \r\n            else {\r\n                this.EnableAlert(retorno.response.message, \"error\")\r\n                window.scrollTo(0,0);\r\n            }\r\n        },\r\n\r\n        reservaPorPeriodo(val) {\r\n            this.ReservaPorPeriodo = val\r\n        },\r\n\r\n        requestEmpresa() {\r\n            this.loader = !this.loader;\r\n\r\n            this.RequestGet('Empresa/'+this.dadosUsuario.EmpresaId,\r\n            (retorno) => this.RetornoEmpresa(retorno),\r\n            (error) => this.RetornoErro(error),\r\n            () => (this.loader = !this.loader))\r\n        },\r\n\r\n        RetornoEmpresa(response) {\r\n            \r\n            this.RetornoDadosEmpresa = {\r\n                RazaoSocial: response.data.nome,\r\n                Cnpj: response.data.cpfCnpj,\r\n                Telefone: response.data.telefone,\r\n                Email: response.data.email,\r\n                DataCadastroEmpresa: response.data.dataCadastro,\r\n                //Imagem: response.data.imagem,\r\n                ImagemName: response.data.imagemName,\r\n                ConfiguracoesEmpresaId: response.data.configuracoesEmpresa.id,\r\n                EmpresaAdicionalId: response.data.empresaAdicional.id,\r\n                EnderecoId: response.data.endereco.id\r\n            }\r\n\r\n            this.RetornoDadosEndereco = {\r\n                Logradouro: response.data.endereco.logradouro,\r\n                EnderecoId: response.data.endereco.id,\r\n                Bairro: response.data.endereco.bairro,\r\n                Cep: response.data.endereco.cep,\r\n                Complemento: response.data.endereco.complemento,\r\n                Numero: response.data.endereco.numero,\r\n                Cidade: response.data.endereco.cidade,\r\n                Estado: response.data.endereco.cidade.estado,\r\n                CidadeId: response.data.endereco.cidade.id\r\n            }\r\n\r\n            this.RetornoDadosConfiguracoesEmpresa = {\r\n                ConfiguracoesEmpresaId: response.data.configuracoesEmpresa.id,\r\n                TimeInicial: this.parseTimeDate(response.data.configuracoesEmpresa.horarioInicio),\r\n                TimeFinal: this.parseTimeDate(response.data.configuracoesEmpresa.horarioFim),\r\n                ReservaPorPeriodo: response.data.configuracoesEmpresa.ehPorPeriodo ? \"Sim\" : \"Não\",\r\n                ReservaPorPessoas: response.data.configuracoesEmpresa.ehPorPessoas ? \"Sim\" : \"Não\",\r\n                QuantidadePessoas: response.data.configuracoesEmpresa.quantidadePessoas,\r\n                ReservaPorMesa: response.data.configuracoesEmpresa.ehPorMesas ? \"Sim\" : \"Não\",\r\n                QuantidadeMesas: response.data.configuracoesEmpresa.quantidadeMesas,\r\n                DiasAtendimento: response.data.configuracoesEmpresa.diasAtendimento\r\n            }\r\n            \r\n            this.RetornoDadosEmpresaAdicional = {\r\n                EmpresaAdicionalId: response.data.empresaAdicional.id,\r\n                BloquearReserva: response.data.empresaAdicional.bloqueiaReserva ? \"Sim\" : \"Não\",\r\n                AceitaReservaAutomaticamente: response.data.empresaAdicional.aceitaReservaAutomaticamente ? \"Sim\" : \"Não\",\r\n                PermiteReagendarReserva: response.data.empresaAdicional.permiteReagendarReserva ? \"Sim\" : \"Não\",\r\n                ExibirMensagemRapida: response.data.empresaAdicional.exibirMensagemRapida ? \"Sim\" : \"Não\",\r\n                TempoPermitidoCancelamento: response.data.empresaAdicional.tempoPermitidoCancelamento,\r\n                MensagemRapida: response.data.empresaAdicional.mensagemRapida ?? ''\r\n            }\r\n        },\r\n    },\r\n    \r\n    created() {\r\n        this.requestEmpresa()\r\n    },\r\n\r\n    watch: {\r\n\r\n        refresh (val) {\r\n            this.requestEmpresa()\r\n        }\r\n\r\n    },\r\n\r\n    props: {\r\n        refresh: Boolean,\r\n        dadosUsuario: Object\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}