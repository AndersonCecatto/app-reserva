{"ast":null,"code":"import GenericMethods from '@/mixins/GenericMethods';\nexport default {\n  name: 'DateDialogFieldComponent',\n  mixins: [GenericMethods],\n  data: vm => ({\n    date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000).toISOString().substring(0, 10),\n    dateFormatted: vm.FormatDate(new Date(Date.now() - new Date().getTimezoneOffset() * 60000).toISOString().substring(0, 10)),\n    modal: false\n  }),\n  methods: {\n    RetornoData() {\n      this.$emit('retornoData', this.dateFormatted);\n    },\n    //Desabilita os dias no calendario\n    disablePastDates(val) {\n      if (this.regraDesabilitaCampos != null) {\n        return val >= new Date().toISOString().substring(0, 10) && this.regraDesabilitaCampos.split(';').some(x => new Date(val).getDay() == x);\n      }\n      return val;\n    },\n    verificarData(data) {\n      debugger;\n      if (this.regraDesabilitaCampos != null) if (this.regraDesabilitaCampos.split(';').some(x => data.getDate() == x)) {\n        data.setDate(data.getDate() + 1);\n        this.verificarData(data);\n      }\n      this.dateFormatted = this.FormatDate(new Date(data - data.getTimezoneOffset() * 60000).toISOString().substring(0, 10));\n    }\n  },\n  watch: {\n    date(val) {\n      this.dateFormatted = this.FormatDate();\n    }\n  },\n  created() {\n    this.verificarData(new Date(Date.parse(this.date)));\n  },\n  props: {\n    regraDesabilitaCampos: String,\n    titulo: String,\n    recebeData: Date\n  }\n};","map":{"version":3,"mappings":"AA6CA;AAEA;EAEAA;EACAC;EAEAC;IACAC;IACAC;IACAC;EACA;EAEAC;IACAC;MACA;IACA;IAEA;IACAC;MAEA;QACA;MACA;MAEA;IACA;IAEAC;MACA;MACA,wCACA;QACAP;QACA;MACA;MAEA;IACA;EACA;EAEAQ;IACAP;MACA;IACA;EACA;EAEAQ;IACA;EACA;EAEAC;IACAC;IACAC;IACAC;EACA;AACA","names":["name","mixins","data","date","dateFormatted","modal","methods","RetornoData","disablePastDates","verificarData","watch","created","props","regraDesabilitaCampos","titulo","recebeData"],"sourceRoot":"src/components/Field","sources":["DataDialogFieldComponent.vue"],"sourcesContent":["<template>\r\n    <v-dialog\r\n        ref=\"dialog\"\r\n        v-model=\"modal\"\r\n        :return-value.sync=\"dateFormatted\"\r\n        persistent\r\n        width=\"290px\"\r\n    >\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n                v-model=\"dateFormatted\"\r\n                :label=\"titulo\"\r\n                prepend-icon=\"mdi-calendar\"\r\n                readonly\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                color=\"green\"\r\n            ></v-text-field>\r\n        </template>\r\n        <v-date-picker\r\n            v-model=\"date\"\r\n            scrollable\r\n            locale=\"pt-br\"\r\n            color=\"green\"\r\n            :allowed-dates=\"disablePastDates\"\r\n        >\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n            text\r\n            @click=\"modal = false\"\r\n        >\r\n            Cancelar\r\n        </v-btn>\r\n        <v-btn\r\n            text\r\n            color=\"green\"\r\n            @click=\"$refs.dialog.save(dateFormatted), RetornoData()\"\r\n        >\r\n            OK\r\n        </v-btn>\r\n        </v-date-picker>\r\n    </v-dialog>\r\n</template>\r\n<script>\r\n\r\nimport GenericMethods from '@/mixins/GenericMethods'\r\n\r\nexport default {\r\n\r\n    name:'DateDialogFieldComponent',\r\n    mixins: [GenericMethods],\r\n\r\n    data: (vm) => ({\r\n        date: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substring(0, 10),\r\n        dateFormatted: vm.FormatDate((new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substring(0, 10)),\r\n        modal: false\r\n    }),\r\n\r\n    methods: {\r\n        RetornoData() {\r\n            this.$emit('retornoData', this.dateFormatted)\r\n        },\r\n\r\n        //Desabilita os dias no calendario\r\n        disablePastDates(val) {\r\n\r\n            if (this.regraDesabilitaCampos != null) {\r\n                return val >= new Date().toISOString().substring(0, 10) && this.regraDesabilitaCampos.split(';').some((x) => new Date(val).getDay() == x)\r\n            }\r\n\r\n            return val\r\n        },\r\n\r\n        verificarData(data) {\r\n            debugger\r\n            if (this.regraDesabilitaCampos != null)\r\n                if (this.regraDesabilitaCampos.split(';').some((x) => data.getDate() == x)){\r\n                    data.setDate(data.getDate() + 1)\r\n                    this.verificarData(data)\r\n                }\r\n            \r\n            this.dateFormatted = this.FormatDate((new Date(data - (data).getTimezoneOffset() * 60000)).toISOString().substring(0, 10))\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        date (val) {\r\n            this.dateFormatted = this.FormatDate()\r\n        },\r\n    },\r\n\r\n    created() {\r\n        this.verificarData(new Date(Date.parse(this.date)))\r\n    },\r\n\r\n    props: {\r\n        regraDesabilitaCampos: String,\r\n        titulo: String,\r\n        recebeData: Date\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}