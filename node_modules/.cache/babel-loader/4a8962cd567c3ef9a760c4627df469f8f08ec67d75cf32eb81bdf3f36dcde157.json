{"ast":null,"code":"import api from '@/services/api';\nimport LoadComponent from '../LoadComponent.vue';\nexport default {\n  components: {\n    LoadComponent\n  },\n  name: 'CadastroConfiguracoesEmpresaComponent',\n  data: () => ({\n    loader: false,\n    modal1: false,\n    modal2: false,\n    items: ['Sim', 'Não'],\n    requiredPeopleRules: [v => v != null && v != 0 && this.localQuantidadePessoas == 'Sim' || 'Campo Obrigatório.'],\n    requiredRules: [v => v != null || 'Campo Obrigatório.'],\n    localTimeInicial: null,\n    localTimeFinal: null,\n    localReservaPorPeriodo: null,\n    localReservaPorMesa: null,\n    localQuantidadeMesas: null,\n    localReservaPorPessoas: null,\n    localQuantidadePessoas: null\n  }),\n  methods: {\n    change(event) {\n      this.$emit('reservaPorPeriodo', event);\n    },\n    Salvar() {\n      this.loader = !this.loader;\n      api.put('ConfiguracoesEmpresa', {\n        Id: this.configuracoesEmpresaId,\n        HorarioInicio: new Date(new Date().toISOString().substring(0, 10) + ' ' + this.localTimeInicial + ':00.000Z').toISOString(),\n        HorarioFim: new Date(new Date().toISOString().substring(0, 10) + ' ' + this.localTimeFinal + ':00.000Z').toISOString(),\n        EhPorMesas: this.localReservaPorMesa == \"Sim\" ? true : false,\n        QuantidadeMesas: this.localReservaPorMesa != \"Sim\" ? 0 : this.localQuantidadeMesas,\n        EhPorPessoas: this.localReservaPorPessoas == \"Sim\" ? true : false,\n        QuantidadePessoas: this.localReservaPorPessoas != \"Sim\" ? 0 : this.localQuantidadePessoas,\n        TempoReservaMinutos: 0\n      }).then(response => {\n        this.$emit('response', {\n          success: true,\n          response: response\n        });\n      }).catch(error => {\n        this.$emit('response', {\n          success: false,\n          response: error\n        });\n      }).finally(() => this.loader = !this.loader);\n    }\n  },\n  created() {\n    this.localTimeInicial = this.timeInicial;\n    this.localTimeFinal = this.timeFinal;\n    this.localReservaPorPeriodo = this.reservaPorPeriodo;\n    this.localReservaPorMesa = this.reservaPorMesa;\n    this.localQuantidadeMesas = this.quantidadeMesas;\n    this.localReservaPorPessoas = this.reservaPorPessoas;\n    this.localQuantidadePessoas = this.quantidadePessoas;\n  },\n  watch: {\n    localReservaPorMesa(newValue) {\n      if (newValue != 'Sim') this.localQuantidadeMesas = '';\n    },\n    localReservaPorPessoas(newValue) {\n      if (newValue != 'Sim') this.localQuantidadePessoas = '';\n    },\n    localReservaPorPeriodo(newValue) {}\n  },\n  props: {\n    configuracoesEmpresaId: Number,\n    timeInicial: String,\n    timeFinal: String,\n    reservaPorPeriodo: String,\n    reservaPorMesa: String,\n    quantidadeMesas: Number,\n    reservaPorPessoas: String,\n    quantidadePessoas: Number\n  }\n};","map":{"version":3,"mappings":"AAoJA;AACA;AAEA;EACAA;IAAAC;EAAA;EAEAC;EAEAC;IACAC;IACAC;IACAC;IACAC;IACAC,sBACAC,yFACA;IACAC,gBACAD,uCACA;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EAEAC;IACAC;MACA;IACA;IACAC;MAEA;MAEAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACAC;QACA;UAAAC;UAAAC;QAAA;MACA,GACAC;QACA;UAAAF;UAAAC;QAAA;MACA,GACAE;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EAEAC;IACAtB;MACA,uBACA;IACA;IACAE;MACA,uBACA;IACA;IACAH,kCAEA;EACA;EAEAwB;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;AACA","names":["components","LoadComponent","name","data","loader","modal1","modal2","items","requiredPeopleRules","v","requiredRules","localTimeInicial","localTimeFinal","localReservaPorPeriodo","localReservaPorMesa","localQuantidadeMesas","localReservaPorPessoas","localQuantidadePessoas","methods","change","Salvar","api","Id","HorarioInicio","HorarioFim","EhPorMesas","QuantidadeMesas","EhPorPessoas","QuantidadePessoas","TempoReservaMinutos","then","success","response","catch","finally","created","watch","props","configuracoesEmpresaId","timeInicial","timeFinal","reservaPorPeriodo","reservaPorMesa","quantidadeMesas","reservaPorPessoas","quantidadePessoas"],"sourceRoot":"src/components/Empresa","sources":["CadastroConfiguracoesEmpresaComponent.vue"],"sourcesContent":["<template>\r\n    <v-form class=\"px-4 mt-3\">\r\n        <v-dialog\r\n            ref=\"dialogInicial\"\r\n            v-model=\"modal1\"\r\n            :return-value.sync=\"localTimeInicial\"\r\n            persistent\r\n            width=\"290px\"\r\n        >\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n                v-model=\"localTimeInicial\"\r\n                label=\"Horário Inicio Reservas\"\r\n                prepend-icon=\"mdi-clock-time-four-outline\"\r\n                readonly\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                :rules=\"requiredRules\"\r\n                color=\"green\"\r\n            ></v-text-field>\r\n            </template>\r\n            <v-time-picker\r\n                v-if=\"modal1\"\r\n                v-model=\"localTimeInicial\"\r\n                full-width\r\n                format=\"24hr\"\r\n                required\r\n                color=\"green\"\r\n            >\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n                text\r\n                @click=\"modal1 = false\"\r\n            >\r\n                Cancelar\r\n            </v-btn>\r\n            <v-btn\r\n                text\r\n                color=\"green\"\r\n                @click=\"$refs.dialogInicial.save(timeInicial)\"\r\n            >\r\n                OK\r\n            </v-btn>\r\n            </v-time-picker>\r\n        </v-dialog>\r\n        <v-dialog\r\n            ref=\"dialogFinal\"\r\n            v-model=\"modal2\"\r\n            :return-value.sync=\"localTimeFinal\"\r\n            persistent\r\n            width=\"290px\"\r\n        >\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n                v-model=\"localTimeFinal\"\r\n                label=\"Horário Fim Reservas\"\r\n                prepend-icon=\"mdi-clock-time-four-outline\"\r\n                readonly\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                :rules=\"requiredRules\"\r\n                color=\"green\"\r\n            ></v-text-field>\r\n            </template>\r\n            <v-time-picker\r\n                v-if=\"modal2\"\r\n                v-model=\"localTimeFinal\"\r\n                full-width\r\n                format=\"24hr\"\r\n                required\r\n                color=\"green\"\r\n            >\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n                text\r\n                @click=\"modal2 = false\"\r\n            >\r\n                Cancelar\r\n            </v-btn>\r\n            <v-btn\r\n                text\r\n                color=\"green\"\r\n                @click=\"$refs.dialogFinal.save(timeFinal)\"\r\n            >\r\n                OK\r\n            </v-btn>\r\n            </v-time-picker>\r\n        </v-dialog>\r\n        <v-select\r\n            v-model=\"localReservaPorPeriodo\"\r\n            :items=\"items\"\r\n            label=\"Reserva por Periodo\"\r\n            prepend-icon=\"mdi-party-popper\"\r\n            color=\"green\"\r\n            @change=\"change\"\r\n        ></v-select>\r\n        <v-select\r\n            v-model=\"localReservaPorMesa\"\r\n            :items=\"items\"\r\n            label=\"Reserva por mesas\"\r\n            prepend-icon=\"mdi-party-popper\"\r\n            color=\"green\"\r\n        ></v-select>\r\n        <v-text-field\r\n            v-model=\"localQuantidadeMesas\"\r\n            prepend-icon=\"mdi-account-plus\"\r\n            label=\"Quantidade Mesas\"\r\n            required\r\n            type=\"number\"\r\n            pattern=\"\\d*\"\r\n            :rules=\"requiredPeopleRules\"\r\n            color=\"green\"\r\n            :disabled=\"localReservaPorMesa == 'Não'\"\r\n        />\r\n        <v-select\r\n            v-model=\"localReservaPorPessoas\"\r\n            :items=\"items\"\r\n            label=\"Reserva por Pessoas\"\r\n            prepend-icon=\"mdi-party-popper\"\r\n            color=\"green\"\r\n        ></v-select>\r\n        <v-text-field\r\n            v-model=\"localQuantidadePessoas\"\r\n            prepend-icon=\"mdi-account-plus\"\r\n            label=\"Quantidade Pessoas\"\r\n            required\r\n            type=\"number\"\r\n            pattern=\"\\d*\"\r\n            :rules=\"requiredPeopleRules\"\r\n            color=\"green\"\r\n            :disabled=\"localReservaPorPessoas == 'Não'\"\r\n        />\r\n        <v-row class=\"px-3 py-7\">\r\n            <v-btn\r\n                outlined\r\n                large\r\n                block\r\n                color=\"green\"\r\n                @click=\"Salvar()\"\r\n                >\r\n                Confirmar\r\n            </v-btn>\r\n        </v-row>\r\n        <load-component :Ativo=\"loader\"/>\r\n    </v-form>\r\n</template>\r\n<script>\r\n\r\nimport api from '@/services/api';\r\nimport LoadComponent from '../LoadComponent.vue';\r\n\r\nexport default {\r\n    components: { LoadComponent },\r\n\r\n    name: 'CadastroConfiguracoesEmpresaComponent',\r\n\r\n    data: () => ({\r\n        loader: false,\r\n        modal1: false,\r\n        modal2: false,\r\n        items: ['Sim', 'Não'],\r\n        requiredPeopleRules: [\r\n            v => v != null && v != 0 && this.localQuantidadePessoas == 'Sim' || 'Campo Obrigatório.'\r\n        ],\r\n        requiredRules: [\r\n            v => v != null || 'Campo Obrigatório.',\r\n        ],\r\n        localTimeInicial: null,\r\n        localTimeFinal: null,\r\n        localReservaPorPeriodo: null,\r\n        localReservaPorMesa: null,\r\n        localQuantidadeMesas: null,\r\n        localReservaPorPessoas: null,\r\n        localQuantidadePessoas: null,\r\n    }),\r\n\r\n    methods: {\r\n        change(event) {\r\n            this.$emit('reservaPorPeriodo', event)\r\n        },\r\n        Salvar(){\r\n            \r\n            this.loader = !this.loader;\r\n\r\n            api.put('ConfiguracoesEmpresa', {\r\n                Id: this.configuracoesEmpresaId,\r\n                HorarioInicio: new Date(new Date().toISOString().substring(0,10) + ' ' + this.localTimeInicial+':00.000Z').toISOString(),\r\n                HorarioFim: new Date(new Date().toISOString().substring(0,10) + ' ' + this.localTimeFinal+':00.000Z').toISOString(),\r\n                EhPorMesas: this.localReservaPorMesa == \"Sim\" ? true : false,\r\n                QuantidadeMesas: this.localReservaPorMesa != \"Sim\" ? 0 : this.localQuantidadeMesas,\r\n                EhPorPessoas: this.localReservaPorPessoas == \"Sim\" ? true : false,\r\n                QuantidadePessoas: this.localReservaPorPessoas != \"Sim\" ? 0 : this.localQuantidadePessoas,\r\n                TempoReservaMinutos: 0\r\n            })\r\n            .then(response => {\r\n                this.$emit('response', { success: true, response: response })\r\n            })\r\n            .catch(error => {\r\n                this.$emit('response', { success: false, response: error })\r\n            })\r\n            .finally(() => (this.loader = !this.loader))\r\n        }\r\n    },\r\n    created() {\r\n        this.localTimeInicial = this.timeInicial\r\n        this.localTimeFinal = this.timeFinal\r\n        this.localReservaPorPeriodo = this.reservaPorPeriodo\r\n        this.localReservaPorMesa = this.reservaPorMesa\r\n        this.localQuantidadeMesas = this.quantidadeMesas\r\n        this.localReservaPorPessoas = this.reservaPorPessoas\r\n        this.localQuantidadePessoas = this.quantidadePessoas\r\n    },\r\n\r\n    watch: {\r\n        localReservaPorMesa(newValue) {\r\n            if (newValue != 'Sim')\r\n                this.localQuantidadeMesas = ''\r\n        },\r\n        localReservaPorPessoas(newValue) {\r\n            if (newValue != 'Sim')\r\n                this.localQuantidadePessoas = ''\r\n        },\r\n        localReservaPorPeriodo(newValue) {\r\n\r\n        }\r\n    },\r\n\r\n    props: {\r\n        configuracoesEmpresaId: Number,\r\n        timeInicial: String,\r\n        timeFinal: String,\r\n        reservaPorPeriodo: String,\r\n        reservaPorMesa: String,\r\n        quantidadeMesas: Number,\r\n        reservaPorPessoas: String,\r\n        quantidadePessoas: Number,\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}